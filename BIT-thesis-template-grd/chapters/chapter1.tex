%%==================================================
%% chapter01.tex for BIT Master Thesis
%%==================================================
\chapter{绪论}
\section{本论文研究的目的和意义}

随着城市交通的逐渐发展，道路网络的复杂度以及车辆保有量日益增长，交通基础设施的建设无法满足需求，给交通流量的管理带来困难。在智能交通系统中，自动化的出租车调度系统可以有效地满足实时的出行需求，为智能交通系统的完善提供技术支持，有效地满足城市交通需求以及交通流量的管理与诱导，能够有效提高用户出行效率。在车辆调度领域，目前已有集中式的自动化出租车调度系统\upcite{魏玉光2021自动驾驶出租车调度方法及调度系统}。\par
信息的去中心化管理是一项关键技术。设计去中心化的出租车调度系统可以保障用户信息不被滥用，避免恶性竞争，在提高交通系统中乘客乘车效率的同时，也兼顾了出租车司机收入的公平。例如已有为缓解机场压力而设计的机场出租车调度模型，从机场管理部门的角度统筹部署机场出租车调度管理系统，在一定程度上避免了私营企业通过集中式后台管理的软件产品进行不正当牟利，提高机场和市政部门的工作效率\upcite{邢智璇2021兼顾效率与公平的机场出租车调度管理系统研究}。\par
区块链可以用作去中心化的出租车调度系统的开发平台\upcite{2020Secure}，区块链是一种去中心化的共享账本，它可以安全地将简单，连续和经过验证的数据存储在系统软件中。与传统技术相比，区块链具有以下三个优势：\par
一是它不可被篡改，所以更安全。每个人都必须验证自己的身份，然后才能根据专用安全通道访问数据库，添加或获取数据，并保留历史访问数据。\par
第二是具有很强的实用性和可信性。每个节点都将维护一个详细数据账本，并且该数据组仍处于不同对象的控制之下，并且根据共识算法将数据维持在高度一致的水平，增强了系统的健壮性。\par
第三，它具有智能合约和全自动执行功能。智能合约具有完全透明，可靠，强制执行和全自动执行的优势，可以支持构建去中心化的后台系统。\par
利用区块链这一去中心化后台开发自动化的出租车调度系统，可以同时拥有信息保密、系统安全健壮、利益分配公平公正这些优点，有助于解决人们对高可信性的出行软件的需求问题，为推动智慧交通系统的建设添砖加瓦。


\section{国内外研究现状及发展趋势}
关于出租车调度系统的研究，目前已经有工作提出基于区块链的拼车系统模型\upcite{2020Blockchain}，考虑了车辆和乘客双方的身份验证，但只是提出了原型理论，没有实现车辆调度流程。另外还有在以太坊平台实现的拼车系统，提出了司机和乘客对互相的信任程度的概念\upcite{2020A}，Deng等提出了基于区块链的车载网安全支付方案\upcite{2020Electronic}，这些工作侧重于安全性的验证和评估，并没有考虑在实际应用中让分布式节点起到车辆调度和路径规划服务的作用。\par

随着通信技术和硬件技术的发展，移动用户剧增，随之交互式信息地图服务需求逐渐增多，矢量数据地图正在兴起。在矢量地图数据中，矢量数据可以在所有放缩水平下以不同的颜色正确显示和区分特征，使地图展现更加丰富\upcite{2015A}。矢量地图数据的编码方式是影响其传输性能从而影响其可用性的关键因素\upcite{2013An}。\par
XML 和 JSON 是 web 应用程序中常用的两种矢量数据编码方法\upcite{2011Improving}。但 XML 使用重量级语法导致其格式复杂且大小较大，不利于地图数据传输。JSON 是一种易于读写的轻量级数据表示格式，GeoJSON 是其中一种轻量级的数据表示方法，用于编码各类地理数据结构，可用于简单表示地理信息\upcite{2015Performance}。\par
传统的矢量地图如 Google Maps\upcite{2013CONTRIBUTED}, 采用二维数据经纬度来表示地理信息。Geohash 是一种新型的地址编码方式，不同的是它使用 Base32 编码成一维的字符串代替二维的经纬度数据，将二维空间查询转换为一维字符串匹配。利用此优势，GeoHash 编码可以实现时间复杂度为 O(1) 快速查询\upcite{2014A}。此外，相比基于 Base4 编码方法的 Bing Maps\upcite{2014Web}，GeoHash 编码使用 Base32 编码方法，即同一前缀有 32 个不同子序列，这缩短了一维字符串的长度从而减小了数据存储和传输的成本。根据编码的长短，GeoHash 可以同时表示图块的坐标和索引范围，从而实现两种功能的统一编码。\par

传统区块链的特点不能满足车联网的特性。一方面，传统区块链吞吐量较小、出块速度慢，需要改善它的结构来提升可扩展性；另一方面，传统区块链与真实世界的联系较弱，而车联网与地理信息有天然联系并且紧密相关，因此传统区块链结构不能很好适应车联网\upcite{2018Cyber}。就目前来说，主流的方案是将区块链的单链结构改良为多链结构。根据多链结构的构成方式的不同，可以将相关工作分为三类：并发多链\upcite{2019Monoxide}，层次多链\upcite{2021Multi}，智能合约多链\upcite{2020A}。并发多链存在多条子链，每条子链对应一个独立的功能模块，主链只负责维护多条子链的数据一致性；层次多链以层次化的结构组成区块链；智能合约多链通过智能合约来维护多链数据的一致。地理位置区块链实现了层次化多链，同时将地理位置融合进区块链的数据结构，对区块链的结构进行修改与优化，使其更能适应车载自组网的特性[周畅论文]。\par

路径规划系统的核心部分可分为地理基础数据和底层路径规划算法实现，Dijkstra算法是最短路径算法的鼻祖，但其作为最基本的图搜索算法，无法满足地图路径规划对性能的要求\upcite{2012Finding}。目前工业界地图产品主流的路径规划算法有A*算法，CH(Contraction Hierarchies)算法\upcite{2008Contraction}。其中A*算法是应用最广泛的路径规划算法，其使用了启发式算法，比Dijkstra算法速度更快\upcite{2006A}；CH算法实现了数据预处理，以减少需要搜索的节点，但其不支持地理信息的实时更新，且不能很好地支持多种道路权重类型。

\section{论文的研究内容、贡献和组织结构}
\subsection{论文的研究内容}

本文采用基于GeoHash的矢量地图作为基础数据，引入了基于GeoHash的地理位置区块链作为系统后台，然后基于GeoHash编码的地理信息在地理位置区块链上实现路径规划算法，进而实现车辆调度系统。本文所设计系统的地图存储与展现、路径规划算法的逻辑将统一基于 GeoHash 编码，完全替换传统地图的经纬度数据表示形式，简化了数据传输和算法逻辑，同时方便了区域信息绑定和查询。在此基础之上，本文基于A*算法设计了可支持GeoHash格式的地理信息的路径规划算法，并通过调节参数增强算法和系统的适配性，此外还基于地理位置设计了区域车乘匹配算法。根据上述工具和算法，本文最终实现了基于地理位置区块链的出租车调度系统，能更快速地查询和利用地理位置信息进行车辆调度，提高系统性能。

（1）本文将传统地图的经纬度数据完成转变为 GeoHash 编码，并存储至区块链上，并通过 GeoHashTile 前端将地图数据进行呈现，利用区块链不可篡改特性，极大的保护了车载自组网中地图数据安全。\par
（2）本文基于地理位置区块链设计并实现了去中心化的出租车调度系统，旨在解决中心化的打车软件对用户信息进行违规利用、利用信息差进行恶性竞争等问题，。\par
（3）本文研究了基于GeoHash的计算逻辑。针对基于GeoHash的距离计算方法，本文通过前缀匹配对算法逻辑进行了优化，旨在不影响计算结果的前提下，降低后台运行计算方法所需的计算量。
（3）实现出租车调度系统的核心是实现路径规划算法和车乘匹配算法。然而，地理位置区块链缺乏基于矢量地理数据的路径规划算法支持，本文研究并对比了不同的路径规划算法，分析出最适合本系统的算法进行研究实现，并调节算法的参数增强其对系统的适配性。本文基于地理位置区块链对基于GeoHash矢量地理数据的路径规划算法进行了研究，并在此基础上对基于地理位置区块链的区域车乘匹配方法进行了研究。\par

\subsection{论文贡献}
（1）完善leaflet工具对GeoHash格式矢量地图展示的支持，以此来支持本文出租车调度系统的应用前端。设计将屏幕点投影为GeoHash的方法，并基于此方法为leaflet添加支持GeoHash格式地图数据的放缩和拖动功能。\par
（2）针对GeoHash的距离计算方法，通过前缀匹配的方式排除冗余的解码运算，提升GeoHash距离计算算法的速度，优化服务端区块链的计算性能。\par
（3）在区块链的智能合约中设计并实现了出租车调度系统的后台功能模块。包括基于GeoHash的路径规划算法、车乘匹配算法\par
（4）通过模拟实验优化了路径规划算法的参数，通过对比实验证明了应用地理位置区块链的特点，通过系统运行实验验证了调度系统的特征。

\subsection{论文的组织结构}
第一章，介绍路径规划应用研究现状以及去中心化调度系统对于智能交通和反垄断、反恶性竞争的意义。\par
第二章，对本文涉及的相关工作进行综述，包括地理位置区块链、GeoHash地理信息、leaflet渲染工具、出租车调度系统、路径规划算法。\par
第三章描述系统的框架，包括服务端智能合约的设计结构，和浏览器终端车辆和乘客的设计结构，以及系统的运行流程。\par
第四章详细介绍系统用到的各种技术，包括基于GeoHash的矢量地图存储和展示、基于GeoHash的路径规划算法设计、基于地理位置区块链的区域调度车乘匹配算法。\par
第五章，介绍了出租车调度系统的参数调优以及通过实验验证系统在模拟调度环境下的工作状态。